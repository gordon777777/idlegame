# BasePanel è‡ªåŠ¨æ’åˆ—åŠŸèƒ½æ–‡æ¡£

## æ¦‚è¿°
BasePanelç°åœ¨æ”¯æŒè‡ªåŠ¨æ’åˆ—åŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨æŒ‰ç…§æŒ‡å®šçš„æ–¹å‘å’Œå¯¹é½æ–¹å¼æ’åˆ—å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®æ¯ä¸ªå…ƒç´ çš„ä½ç½®ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ”§ è‡ªåŠ¨æ’åˆ—é…ç½®
- **æ–¹å‘**: æ”¯æŒå‚ç›´(vertical)å’Œæ°´å¹³(horizontal)æ’åˆ—
- **å¯¹é½**: æ”¯æŒå·¦å¯¹é½(left)ã€å±…ä¸­(center)ã€å³å¯¹é½(right)
- **é—´è·**: å¯è‡ªå®šä¹‰å…ƒç´ ä¹‹é—´çš„é—´è·
- **å†…è¾¹è·**: å¯è®¾ç½®é¢æ¿å†…å®¹åŒºåŸŸçš„å†…è¾¹è·
- **èµ·å§‹ä½ç½®**: å¯è‡ªå®šä¹‰æ’åˆ—çš„èµ·å§‹Yä½ç½®

### ğŸ“ é»˜è®¤é…ç½®
```javascript
{
  autoLayout: true,                    // å¯ç”¨è‡ªåŠ¨æ’åˆ—
  layoutDirection: 'vertical',         // å‚ç›´æ’åˆ—
  layoutAlignment: 'left',             // å·¦å¯¹é½
  layoutSpacing: 10,                   // å…ƒç´ é—´è·10px
  layoutPadding: {                     // å†…è¾¹è·
    top: 60,    // é¡¶éƒ¨60px (ä¸ºæ ‡é¢˜æ ç•™ç©ºé—´)
    left: 20,   // å·¦è¾¹20px
    right: 20,  // å³è¾¹20px
    bottom: 20  // åº•éƒ¨20px
  },
  layoutStartY: null                   // è‡ªåŠ¨è®¡ç®—èµ·å§‹Yä½ç½®
}
```

## ä½¿ç”¨æ–¹æ³•

### 1. åœ¨æ„é€ å‡½æ•°ä¸­é…ç½®
```javascript
class MyPanel extends BasePanel {
  constructor(scene, x, y) {
    super(scene, x, y, {
      width: 400,
      height: 500,
      title: 'æˆ‘çš„é¢æ¿',
      autoLayout: true,
      layoutDirection: 'vertical',
      layoutAlignment: 'left',
      layoutSpacing: 15,
      layoutPadding: { top: 60, left: 20, right: 20, bottom: 20 }
    });
  }
}
```

### 2. æ·»åŠ å…ƒç´ åˆ°è‡ªåŠ¨æ’åˆ—
```javascript
// åˆ›å»ºå…ƒç´ æ—¶ä¸éœ€è¦è®¾ç½®å…·ä½“ä½ç½®
const text1 = this.scene.add.text(0, 0, 'ç¬¬ä¸€è¡Œæ–‡æœ¬', { fontSize: '16px' });
const text2 = this.scene.add.text(0, 0, 'ç¬¬äºŒè¡Œæ–‡æœ¬', { fontSize: '16px' });
const button = new Button(this.scene, 0, 0, 'æŒ‰é’®');

// æ·»åŠ åˆ°é¢æ¿ï¼Œè‡ªåŠ¨å‚ä¸æ’åˆ—
this.add([text1, text2, ...button.getElements()]);

// æˆ–è€…å•ç‹¬æ·»åŠ 
this.add(text1);  // è‡ªåŠ¨æ’åˆ—
this.add(text2);  // è‡ªåŠ¨æ’åˆ—
```

### 3. æ’é™¤æŸäº›å…ƒç´ çš„è‡ªåŠ¨æ’åˆ—
```javascript
// ç¬¬äºŒä¸ªå‚æ•°ä¸ºfalseï¼Œä¸å‚ä¸è‡ªåŠ¨æ’åˆ—
this.add(backgroundElement, false);
```

## API æ–¹æ³•

### setLayoutConfig(config)
åŠ¨æ€ä¿®æ”¹æ’åˆ—é…ç½®
```javascript
this.setLayoutConfig({
  layoutDirection: 'horizontal',
  layoutSpacing: 20,
  layoutAlignment: 'center'
});
```

### setAutoLayout(enabled)
å¯ç”¨æˆ–ç¦ç”¨è‡ªåŠ¨æ’åˆ—
```javascript
this.setAutoLayout(false);  // ç¦ç”¨è‡ªåŠ¨æ’åˆ—
this.setAutoLayout(true);   // å¯ç”¨è‡ªåŠ¨æ’åˆ—
```

### relayout()
æ‰‹åŠ¨è§¦å‘é‡æ–°æ’åˆ—
```javascript
this.relayout();  // é‡æ–°è®¡ç®—å¹¶æ’åˆ—æ‰€æœ‰å…ƒç´ 
```

### clearAutoLayoutElements()
æ¸…ç©ºè‡ªåŠ¨æ’åˆ—å…ƒç´ åˆ—è¡¨
```javascript
this.clearAutoLayoutElements();  // æ¸…ç©ºåˆ—è¡¨ï¼Œä½†ä¸ç§»é™¤å…ƒç´ 
```

## æ’åˆ—æ–¹å‘

### å‚ç›´æ’åˆ— (vertical)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     æ ‡é¢˜æ       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…ƒç´ 1           â”‚
â”‚ å…ƒç´ 2           â”‚
â”‚ å…ƒç´ 3           â”‚
â”‚ å…ƒç´ 4           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ°´å¹³æ’åˆ— (horizontal)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     æ ‡é¢˜æ       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…ƒç´ 1 å…ƒç´ 2 å…ƒç´ 3 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¯¹é½æ–¹å¼

### å·¦å¯¹é½ (left)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…ƒç´ 1           â”‚
â”‚ å…ƒç´ 2           â”‚
â”‚ å…ƒç´ 3           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±…ä¸­å¯¹é½ (center)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å…ƒç´ 1       â”‚
â”‚     å…ƒç´ 2       â”‚
â”‚     å…ƒç´ 3       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å³å¯¹é½ (right)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å…ƒç´ 1 â”‚
â”‚           å…ƒç´ 2 â”‚
â”‚           å…ƒç´ 3 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å®é™…åº”ç”¨ç¤ºä¾‹

### EconomicPanel ä½¿ç”¨ç¤ºä¾‹
```javascript
class EconomicPanel extends BasePanel {
  constructor(scene, x, y) {
    super(scene, x, y, {
      width: 400,
      height: 400,
      title: 'ç»æµç³»ç»Ÿ',
      autoLayout: true,
      layoutDirection: 'vertical',
      layoutAlignment: 'left',
      layoutSpacing: 15,
      layoutPadding: { top: 60, left: 20, right: 20, bottom: 20 }
    });
    
    this.createContent();
  }
  
  createContent() {
    // åˆ›å»ºå…ƒç´ æ—¶ä¸éœ€è¦è®¾ç½®ä½ç½®
    const currencyText = this.scene.add.text(0, 0, 'è´§å¸ä¿¡æ¯', { fontSize: '16px' });
    const priceHint = this.scene.add.text(0, 0, 'ä»·æ ¼æç¤º', { fontSize: '14px' });
    const satisfactionText = this.scene.add.text(0, 0, 'æ»¡æ„åº¦', { fontSize: '14px' });
    
    // è‡ªåŠ¨æ’åˆ—
    this.add([currencyText, priceHint, satisfactionText]);
  }
}
```

## æ³¨æ„äº‹é¡¹

### 1. å…ƒç´ å°ºå¯¸æ£€æµ‹
è‡ªåŠ¨æ’åˆ—ä¼šå°è¯•æ£€æµ‹å…ƒç´ çš„å°ºå¯¸ï¼š
- ä¼˜å…ˆä½¿ç”¨ `height`/`width` å±æ€§
- å…¶æ¬¡ä½¿ç”¨ `displayHeight`/`displayWidth` å±æ€§
- æœ€åä½¿ç”¨ `getBounds()` æ–¹æ³•
- å¦‚æœéƒ½æ— æ³•è·å–ï¼Œä½¿ç”¨é»˜è®¤å€¼ (é«˜åº¦30pxï¼Œå®½åº¦100px)

### 2. å…ƒç´ ä½ç½®è®¾ç½®
è‡ªåŠ¨æ’åˆ—ä¼šå°è¯•è®¾ç½®å…ƒç´ ä½ç½®ï¼š
- ä¼˜å…ˆä½¿ç”¨ `setPosition(x, y)` æ–¹æ³•
- å…¶æ¬¡ç›´æ¥è®¾ç½® `x` å’Œ `y` å±æ€§

### 3. åŠ¨æ€æ·»åŠ /ç§»é™¤
- æ·»åŠ å…ƒç´ æ—¶ä¼šè‡ªåŠ¨é‡æ–°æ’åˆ—
- ç§»é™¤å…ƒç´ æ—¶ä¹Ÿä¼šè‡ªåŠ¨é‡æ–°æ’åˆ—
- ç¡®ä¿UIå§‹ç»ˆä¿æŒæ•´é½

### 4. æ€§èƒ½è€ƒè™‘
- æ¯æ¬¡æ·»åŠ /ç§»é™¤å…ƒç´ éƒ½ä¼šè§¦å‘é‡æ–°æ’åˆ—
- å¦‚æœéœ€è¦æ‰¹é‡æ“ä½œï¼Œå¯ä»¥ä¸´æ—¶ç¦ç”¨è‡ªåŠ¨æ’åˆ—ï¼š
```javascript
this.setAutoLayout(false);
// æ‰¹é‡æ·»åŠ å…ƒç´ 
this.add(element1, false);
this.add(element2, false);
this.add(element3, false);
// é‡æ–°å¯ç”¨å¹¶æ’åˆ—
this.setAutoLayout(true);
```

## å…¼å®¹æ€§

### å‘åå…¼å®¹
- ç°æœ‰çš„é¢æ¿ä»£ç æ— éœ€ä¿®æ”¹å³å¯å·¥ä½œ
- é»˜è®¤å¯ç”¨è‡ªåŠ¨æ’åˆ—ï¼Œä½†ä¸ä¼šå½±å“æ‰‹åŠ¨è®¾ç½®ä½ç½®çš„å…ƒç´ 
- å¯ä»¥é€šè¿‡ `autoLayout: false` å®Œå…¨ç¦ç”¨è‡ªåŠ¨æ’åˆ—

### æ··åˆä½¿ç”¨
```javascript
// å¯ä»¥æ··åˆä½¿ç”¨è‡ªåŠ¨æ’åˆ—å’Œæ‰‹åŠ¨å®šä½
this.add(autoLayoutElement);        // å‚ä¸è‡ªåŠ¨æ’åˆ—
this.add(manualElement, false);     // ä¸å‚ä¸è‡ªåŠ¨æ’åˆ—ï¼Œæ‰‹åŠ¨å®šä½
```

è¿™ä¸ªè‡ªåŠ¨æ’åˆ—åŠŸèƒ½å¤§å¤§ç®€åŒ–äº†é¢æ¿å¸ƒå±€çš„å·¥ä½œï¼Œè®©å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºå†…å®¹è€Œä¸æ˜¯ä½ç½®è®¡ç®—ï¼
